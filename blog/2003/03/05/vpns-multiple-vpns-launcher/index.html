<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>VPNS - Multiple VPN's Launcher | Pablo Iranzo G√≥mez blog</title><meta name=keywords content="Linux,network,VPN,FOSS"><meta name=description content="General Purpose
The idea on writing VPNS and the structure it follows was the problem that
we had into easily configure many VPN&rsquo;s for use with the wireless project
interconnection (Valencia Wireless
http://www.valenciawireless.org).
When having no chance to join networks using just wireless links, we needed
to provide some kind of transparent link from one WiFi node to another. To
do so, we decided to use the vpnd daemon to establish links between our
networks for allowing transparent traffic flow."><meta name=author content="Pablo Iranzo G√≥mez"><link rel=canonical href=https://iranzo.io/blog/2003/03/05/vpns-multiple-vpns-launcher/><meta name=google-site-verification content="Bk4Z5ucHLyPXqlZlj5LzANpYBBSvxqBW4E8i-Kwf-bQ"><meta name=yandex-verification content="993ede96cdfbee95"><link crossorigin=anonymous href=../../../../../assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://iranzo.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://iranzo.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://iranzo.io/favicon-32x32.png><link rel=apple-touch-icon href=https://iranzo.io/apple-touch-icon.png><link rel=mask-icon href=https://iranzo.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://iranzo.io/blog/2003/03/05/vpns-multiple-vpns-launcher/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZL9P943TP1"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZL9P943TP1")}</script><meta property="og:url" content="https://iranzo.io/blog/2003/03/05/vpns-multiple-vpns-launcher/"><meta property="og:site_name" content="Pablo Iranzo G√≥mez blog"><meta property="og:title" content="VPNS - Multiple VPN's Launcher"><meta property="og:description" content="General Purpose The idea on writing VPNS and the structure it follows was the problem that we had into easily configure many VPN‚Äôs for use with the wireless project interconnection (Valencia Wireless http://www.valenciawireless.org).
When having no chance to join networks using just wireless links, we needed to provide some kind of transparent link from one WiFi node to another. To do so, we decided to use the vpnd daemon to establish links between our networks for allowing transparent traffic flow."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2003-03-05T20:55:00+00:00"><meta property="article:modified_time" content="2023-08-25T09:45:44+00:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Network"><meta property="article:tag" content="VPN"><meta property="article:tag" content="FOSS"><meta property="og:image" content="https://iranzo.io/mugshot.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://iranzo.io/mugshot.png"><meta name=twitter:title content="VPNS - Multiple VPN's Launcher"><meta name=twitter:description content="General Purpose
The idea on writing VPNS and the structure it follows was the problem that
we had into easily configure many VPN&rsquo;s for use with the wireless project
interconnection (Valencia Wireless
http://www.valenciawireless.org).
When having no chance to join networks using just wireless links, we needed
to provide some kind of transparent link from one WiFi node to another. To
do so, we decided to use the vpnd daemon to establish links between our
networks for allowing transparent traffic flow."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://iranzo.io/blog/"},{"@type":"ListItem","position":2,"name":"VPNS - Multiple VPN's Launcher","item":"https://iranzo.io/blog/2003/03/05/vpns-multiple-vpns-launcher/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"VPNS - Multiple VPN's Launcher","name":"VPNS - Multiple VPN\u0027s Launcher","description":"General Purpose The idea on writing VPNS and the structure it follows was the problem that we had into easily configure many VPN\u0026rsquo;s for use with the wireless project interconnection (Valencia Wireless http://www.valenciawireless.org).\nWhen having no chance to join networks using just wireless links, we needed to provide some kind of transparent link from one WiFi node to another. To do so, we decided to use the vpnd daemon to establish links between our networks for allowing transparent traffic flow.\n","keywords":["Linux","network","VPN","FOSS"],"articleBody":"General Purpose The idea on writing VPNS and the structure it follows was the problem that we had into easily configure many VPN‚Äôs for use with the wireless project interconnection (Valencia Wireless http://www.valenciawireless.org).\nWhen having no chance to join networks using just wireless links, we needed to provide some kind of transparent link from one WiFi node to another. To do so, we decided to use the vpnd daemon to establish links between our networks for allowing transparent traffic flow.\nThe vpnd it‚Äôs great because it‚Äôs very easy to configure and works fine, but has a little big problem‚Ä¶ it doesn‚Äôt allow to use DNS names for establishing VPN‚Äôs, it just allows to use static IP‚Äôs. Probably that wouldn‚Äôt be a problem for big business, universities, etc but as wireless projects are common between particulars, and at least in Spain we usually have dynamic IP‚Äôs, it made our tunnels to be ‚Äúalive‚Äù until either our provider or the remote provider decides to change the IP‚Ä¶\nAll of us were using Dynamic DNS Services from different providers (I use No-IP (http://www.no-ip.org), so if you decide to sign it with them, please use the following link No-Ip http://www.no-ip.com), other people at Valencia Wireless uses DynDNS http://www.dyndns.org, if in doubt, search for Dynamic DNS to get an idea on what you can use‚Ä¶\nIn brief‚Ä¶ we had DNS names that get dynamically resolved to our current IP‚Äôs, but vpnd was unable to deal with those names‚Ä¶ so I wrote VPNS :-D\n(please, if you use it, send me an email to let me know how much people is using it‚Ä¶ thanks)\nRequirements VPNS, it‚Äôs just a bunch of configuration files and three scripts that requires the presence of:\nPerl (for the scripts) Bash or compatible (for the startup script) vpnd (for the VPN establishing) Ping (for resolving DNS names to IP‚Äôs) CAUTION\nAs this is just a gziped-tar file by the moment, you‚Äôll have to check that the required software is installed before trying to use it.\nThis script has been created for a Debian GNU/Linux distribution, but as far as I can remember it‚Äôs compatible with the schema used on Red Hat, SuSE, etc‚Ä¶ but check before\nThe way it works‚Ä¶ As vpnd requires one key file (vpnd.key), and a configuration file (vpnd.conf) for each connection, the idea was to split different files for each node.\nWe‚Äôll require then one key file and one configuration file for each node to be able to spawn a vpnd daemon with those data.\nAs each vpnd will require both static origin and target IP‚Äôs there would be some things that would be static in the configuration (other parameters) and others that would need to get rewritten (target, and start addresses).\nConfiguration files The configuration get‚Äôs deployed on two directories: /etc/vpnd/ for the local host configuration (your host) and /etc/vpnd/hosts/* for the remote hosts configuration.\nThere are also some rc?.d directories with symbolic links to VPNS to start/stop the daemon at different runlevels, it‚Äôs a good idea to copy them too, but as the main purpose of this script is to periodically test it, it should be included at crontab (as well as rc?.d to initial startup).\n4.1 Local Configuration Those files specify the configuration for the local host that will be used by all the other hosts.\n/etc/vpnd/master.resolv : In this file you‚Äôll need to put the Dynamic DNS name of your machine (in my case ‚Äúlacreu.no-ip.org‚Äù), so the update script will get your IP from it to be able to establish tunnels both if your IP changes or just if remote IP changes. /etc/vpnd/master.ip : This file is created automatically with the results of resolving your Dynamic DNS to an IP to allow comparison between your last IP and your current to check if you need to relaunch VPN‚Äôs (remember that the worst case is both local and remote IP‚Äôs getting changed). /etc/vpnd/master.restart : This file is created when local IP has changed, specifying a total vpnd restart for all VPN‚Äôs 4.2 Host configuration (/etc/vpnd/hosts/$HOST) Each file in this subdirectory specifies a VPN to be launched and defines the name that the configuration files would have appended.\nWe‚Äôll create a folder for each remote host with a descriptive name that would be use by the scripts.\nCAUTION\nFor creating the files you‚Äôll have to use ‚Äúecho ‚Äúclient‚Äù \u003e mode‚Äù or similar (for port, resolv, mode, etc), there have been some problems with files not created this way (and my perl knowledge doesn‚Äôt allow me to do anything better).\nInto this subdirectory there would be the following config files:\n4.2.1 Static files vpnd.key : Cipher key that would be used for the connection with the remote host. It gets created by vpnd or copied from remote host. mode : Mode that we use to get connected to remote host (server or client) port : Port at which the connection gets established resolv : Dynamic DNS resolver name for the target host (used for resolving it‚Äôs IP) master : Master configuration file for HOST (the config that it‚Äôs static) 4.2.2 Dynamic files vpnd.conf : Configuration file for HOST, it gets created automatically when running /etc/vpnd/update.pl script restart : This file gets created by the ‚Äúcompare.pl‚Äù script to indicate that VPNS should restart this host VPN. This file is created if the IP has changed since last launch 4.2.3 Scripts /etc/vpnd/update.pl : Script to merge configuration files for host, resolve IP and then output a vpnd.conf file for that host /etc/vpnd/compare.pl : Script to compare IP‚Äôs between recorded one and current for preparing vpnd restart /etc/init.d/vpns : Script to start, stop, restart or restart-if-needed the VPNS based on hosts definitions Recommendations As probably IP‚Äôs will change, you‚Äôll need to put a crontab sentence for checking of updated IP‚Äôs, to do so, put /etc/init.d/vpns restart-if-needed in your crontab for allowing the tunnels to be recreated at every change.\nSample crontab line would be:\n#!bash 0-59/5 * * * * root /etc/init.d/vpns restart-if-needed This way, every five minutes, the script would be run and will restart VPNS that needed to do so.\nAt every run, compare.pl will check new IP addresses, and will mark the service to be restarted, it will create master.ip and ‚Äúhost/ip‚Äù file.\nupdate.pl will dump a vpnd.conf file containing the merge of ‚Äúhost/master‚Äù and the Dynamic DNS for both local host and remote host configured as ‚Äúhost/mode‚Äù says using the ‚Äúhost/port‚Äù port to establish connection and vpnd.key file in each ‚Äúhost/‚Äù folder.\nChangelog Version 0.43 Added a check (chop $mode) with the mode definition to fix problems in systems that always configured mode as server (default check, because the if sentence at update.pl searched for ‚Äúclient‚Äù and sometimes it was not well compared)\nThanks to Hawkmoon\nVersion 0.42 Change in the compare.pl script for the case in which the changed ip was the local one to restart all VPN daemons.\nBefore this version, when local IP changed, only the first-checked VPN will be restarted as there was no file specifying a total restart.\nVersion 0.41 Little changes in configuration files an scripts to make it easier to set up, please, check your configuration files to use new behaviour\npidfile now gets automatically defined to match VPNS kill procedure, so it shouldn‚Äôt be in ‚Äúmaster‚Äù file. Version 0.4 Now, added localhost IP resolution to check if just origin or end (or both) changed their IP, so if either one of them changes, the VPN get‚Äôs marked as restart-needed.\nVersion 0.3 Each host is now restarted only if needed. (added VPNS restart-if-needed command) for not having to stop/relaunch every VPN at every time.\nAdded compare.pl script to compare IP‚Äôs and to let inform the VPNS that needs to restart it.\nVersion 0.2 Configuration files moved from /etc/vpnd/ to /etc/vpnd/hosts/*, so each host has it‚Äôs configuration files into one subdirectory, allowing to tidy the things a bit. Old files were named vpnd-HOST.conf, vpnd-HOST.key, HOST.resolv,etc. They got renamed and moved to the actual location.\nVersion 0.1 First version: at every restart of VPNS new configuration files were created for each host, and then the vpnd were restarted with the configuration files\nSample configuration files Here you will see a sample files used at my host, the other files not dumped here are created automatically by the scripts or you must create them manually (for example the vpnd.key).\n7.1 Local 7.1.1 master.resolv merak.no-ip.org\n7.2 Remote Host 7.2.1 mode server\n7.2.2 port 2010\n7.2.3 resolv oceano.dyndns.org\n7.2.4 master key value local 172.16.97.78 remote 172.16.97.77 autoroute keepalive 10 noanswer 3 keyfile vpnd.key` randomdev /dev/urandom mtu 1600 7.3 Sample run for Oceano (resulting vpnd.conf) key value local 172.16.97.78 remote 172.16.97.77 autoroute keepalive 10 noanswer 3 keyfile vpnd.key pidfile /var/run/vpnd:hawkmoon.pid randomdev /dev/urandom mtu 1600 client 81.202.20.245 2010 server 81.202.117.88 2010 mode server FAQ 8.1 Problems 8.1.1 Gentoo (Thanks to Hawkmoon) It seems that the script as provided within this package doesn‚Äôt work fine with Gentoo, please, specify the full path to the vpnd.key file in each ‚Äúmaster‚Äù configuration file, and be sure to edit ‚ÄúVPNS‚Äù to point to your ‚Äúvpnd‚Äù executable.\nCredits Copyright (c) 2003 Pablo Iranzo G√≥mez (Pablo.Iranzo@uv.es) https://Alufis35.uv.es/~iranzo/\nYou‚Äôre given permission to copy, distribute and/or modify this document under the terms of the GNU General Public License Version 2 or higher published by the Free Software Foundation\nPlease, if you use this program, email me to know where it gets to and if it‚Äôs used.\nAbout This document has been created using the LyX Editor and compiled with under Debian GNU/Linux, and then converted to the format you‚Äôre viewing.\nFile translated from TeX by T~T~H, version 3.67. On 9 Mar 2007, 21:50. Enjoy! (and if you do, you can Buy Me a Coffee ) ","wordCount":"1612","inLanguage":"en","image":"https://iranzo.io/mugshot.png","datePublished":"2003-03-05T20:55:00Z","dateModified":"2023-08-25T09:45:44.569Z","author":{"@type":"Person","name":"Pablo Iranzo G√≥mez"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://iranzo.io/blog/2003/03/05/vpns-multiple-vpns-launcher/"},"publisher":{"@type":"Organization","name":"Pablo Iranzo G√≥mez blog","logo":{"@type":"ImageObject","url":"https://iranzo.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://iranzo.io/ accesskey=h title="Home (Alt + H)"><img src=https://iranzo.io/apple-icon-152x152.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://iranzo.io/es/ title=Spanish aria-label=Spanish>Es</a></li></ul></div></div><ul id=menu><li><a href=https://iranzo.io/ title=üè†Home><span>üè†Home</span></a></li><li><a href=https://iranzo.io/about/ title=üóíÔ∏èAbout><span>üóíÔ∏èAbout</span></a></li><li><a href=https://iranzo.io/redken_bot/ title=üêòredken_bot><span>üêòredken_bot</span></a></li><li><a href=https://iranzo.io/projects/ title=üìêProjects><span>üìêProjects</span></a></li><li><a href=https://iranzo.io/archives/ title="üóÑÔ∏è Archives"><span>üóÑÔ∏è Archives</span></a></li><li><a href=https://iranzo.io/categories/ title=üó∫Ô∏èCategories><span>üó∫Ô∏èCategories</span></a></li><li><a href=https://iranzo.io/tags/ title=üè∑Ô∏èTags><span>üè∑Ô∏èTags</span></a></li><li><a href=https://iranzo.io/search title="üîéSearch (Alt + /)" accesskey=/><span>üîéSearch</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://iranzo.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://iranzo.io/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">VPNS - Multiple VPN's Launcher</h1><div class=post-meta><span title='2003-03-05 20:55:00 +0000 UTC'>March 5, 2003</span>&nbsp;¬∑&nbsp;8 min&nbsp;¬∑&nbsp;Pablo Iranzo G√≥mez</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#general-purpose aria-label="General Purpose">General Purpose</a></li><li><a href=#requirements aria-label=Requirements>Requirements</a></li><li><a href=#the-way-it-works aria-label="The way it works&mldr;">The way it works&mldr;</a></li><li><a href=#configuration-files aria-label="Configuration files">Configuration files</a><ul><li><a href=#41-local-configuration aria-label="4.1 Local Configuration">4.1 Local Configuration</a></li><li><a href=#42-host-configuration-etcvpndhostshost aria-label="4.2 Host configuration (/etc/vpnd/hosts/$HOST)">4.2 Host configuration (/etc/vpnd/hosts/$HOST)</a><ul><li><a href=#421-static-files aria-label="4.2.1 Static files">4.2.1 Static files</a></li><li><a href=#422-dynamic-files aria-label="4.2.2 Dynamic files">4.2.2 Dynamic files</a></li><li><a href=#423-scripts aria-label="4.2.3 Scripts">4.2.3 Scripts</a></li></ul></li></ul></li><li><a href=#recommendations aria-label=Recommendations>Recommendations</a></li><li><a href=#changelog aria-label=Changelog>Changelog</a><ul><li><a href=#version-043 aria-label="Version 0.43">Version 0.43</a></li><li><a href=#version-042 aria-label="Version 0.42">Version 0.42</a></li><li><a href=#version-041 aria-label="Version 0.41">Version 0.41</a></li><li><a href=#version-04 aria-label="Version 0.4">Version 0.4</a></li><li><a href=#version-03 aria-label="Version 0.3">Version 0.3</a></li><li><a href=#version-02 aria-label="Version 0.2">Version 0.2</a></li><li><a href=#version-01 aria-label="Version 0.1">Version 0.1</a></li></ul></li><li><a href=#sample-configuration-files aria-label="Sample configuration files">Sample configuration files</a><ul><li><a href=#71-local aria-label="7.1 Local">7.1 Local</a></li><li><a href=#711-masterresolv aria-label="7.1.1 master.resolv">7.1.1 master.resolv</a></li><li><a href=#72-remote-host aria-label="7.2 Remote Host">7.2 Remote Host</a><ul><li><a href=#721-mode aria-label="7.2.1 mode">7.2.1 mode</a></li><li><a href=#722-port aria-label="7.2.2 port">7.2.2 port</a></li><li><a href=#723-resolv aria-label="7.2.3 resolv">7.2.3 resolv</a></li><li><a href=#724-master aria-label="7.2.4 master">7.2.4 master</a></li></ul></li><li><a href=#73-sample-run-for-oceano-resulting-vpndconf aria-label="7.3 Sample run for Oceano (resulting vpnd.conf)">7.3 Sample run for Oceano (resulting vpnd.conf)</a></li></ul></li><li><a href=#faq aria-label=FAQ>FAQ</a><ul><li><a href=#81-problems aria-label="8.1 Problems">8.1 Problems</a><ul><li><a href=#811-gentoo-thanks-to-hawkmoon aria-label="8.1.1 Gentoo (Thanks to Hawkmoon)">8.1.1 Gentoo (Thanks to Hawkmoon)</a></li></ul></li></ul></li><li><a href=#credits aria-label=Credits>Credits</a><ul><li><a href=#copyright aria-label=Copyright>Copyright</a></li><li><a href=#about aria-label=About>About</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=general-purpose>General Purpose<a hidden class=anchor aria-hidden=true href=#general-purpose>#</a></h2><p>The idea on writing VPNS and the structure it follows was the problem that
we had into easily configure many VPN&rsquo;s for use with the wireless project
interconnection (Valencia Wireless
<a href=http://www.valenciawireless.org/><code>http://www.valenciawireless.org</code></a>).</p><p>When having no chance to join networks using just wireless links, we needed
to provide some kind of transparent link from one WiFi node to another. To
do so, we decided to use the vpnd daemon to establish links between our
networks for allowing transparent traffic flow.</p><p>The vpnd it&rsquo;s great because it&rsquo;s very easy to configure and works fine, but has
a little big problem&mldr; it doesn&rsquo;t allow to use DNS names for establishing
VPN&rsquo;s, it just allows to use static IP&rsquo;s. Probably that wouldn&rsquo;t be a
problem for big business, universities, etc but as wireless projects are
common between particulars, and at least in Spain we usually have dynamic
IP&rsquo;s, it made our tunnels to be &ldquo;alive&rdquo; until either our provider or the
remote provider decides to change the IP&mldr;</p><p>All of us were using Dynamic DNS Services from different providers (I use
No-IP (<a href=http://www.no-ip.org/>http://www.no-ip.org</a>), so if you decide to
sign it with them, please use the following link No-Ip
<a href=http://www.no-ip.com/referral/index.php/client/Pablo.Iranzo@uv.es>http://www.no-ip.com</a>),
other people at Valencia Wireless uses DynDNS
<a href=http://www.dyndns.org/><code>http://www.dyndns.org</code></a>, if in doubt, search for
Dynamic DNS to get an idea on what you can use&mldr;</p><p>In brief&mldr; we had DNS names that get dynamically resolved to our current
IP&rsquo;s, but vpnd was unable to deal with those names&mldr; so I wrote VPNS :-D</p><p>(please, if you use it, send me an email to let me know how much people is
using it&mldr; thanks)</p><h2 id=requirements>Requirements<a hidden class=anchor aria-hidden=true href=#requirements>#</a></h2><p>VPNS, it&rsquo;s just a bunch of configuration files and three scripts that
requires the presence of:</p><ul><li>Perl (for the scripts)</li><li>Bash or compatible (for the startup script)</li><li>vpnd (for the VPN establishing)</li><li>Ping (for resolving DNS names to IP&rsquo;s)</li></ul><div class="admonition warning"><p class=admonition-title>CAUTION</p><p class=admonition>As this is just a <code>gziped-tar</code> file by the moment, you&rsquo;ll have to check that the required software is installed before trying to use it.</p></div><p>This script has been created for a Debian GNU/Linux distribution, but as far
as I can remember it&rsquo;s compatible with the schema used on Red Hat, SuSE,
etc&mldr; but check before</p><h2 id=the-way-it-works>The way it works&mldr;<a hidden class=anchor aria-hidden=true href=#the-way-it-works>#</a></h2><p>As vpnd requires one key file (<code>vpnd.key</code>), and a configuration file
(<code>vpnd.conf</code>) for each connection, the idea was to split different files for
each node.</p><p>We&rsquo;ll require then one key file and one configuration file for each node to
be able to spawn a vpnd daemon with those data.</p><p>As each vpnd will require both static origin and target IP&rsquo;s there would be
some things that would be static in the configuration (other parameters) and
others that would need to get rewritten (target, and start addresses).</p><h2 id=configuration-files>Configuration files<a hidden class=anchor aria-hidden=true href=#configuration-files>#</a></h2><p>The configuration get&rsquo;s deployed on two directories: <code>/etc/vpnd/</code> for the
local host configuration (your host) and <code>/etc/vpnd/hosts/*</code> for the remote
hosts configuration.</p><p>There are also some <code>rc?.d</code> directories with symbolic links to VPNS to
start/stop the daemon at different runlevels, it&rsquo;s a good idea to copy them
too, but as the main purpose of this script is to periodically test it, it
should be included at <code>crontab</code> (as well as <code>rc?.d</code> to initial startup).</p><h3 id=41-local-configuration>4.1 Local Configuration<a hidden class=anchor aria-hidden=true href=#41-local-configuration>#</a></h3><p>Those files specify the configuration for the local host that will be used by all the other hosts.</p><ul><li><code>/etc/vpnd/master.resolv</code> : In this file you&rsquo;ll need to put the Dynamic DNS name of your machine (in my case &ldquo;lacreu.no-ip.org&rdquo;), so the update script will get your IP from it to be able to establish tunnels both if your IP changes or just if remote IP changes.</li><li><code>/etc/vpnd/master.ip</code> : This file is created automatically with the results of resolving your Dynamic DNS to an IP to allow comparison between your last IP and your current to check if you need to relaunch VPN&rsquo;s (remember that the worst case is both local and remote IP&rsquo;s getting changed).</li><li><code>/etc/vpnd/master.restart</code> : This file is created when local IP has changed, specifying a total vpnd restart for all VPN&rsquo;s</li></ul><h3 id=42-host-configuration-etcvpndhostshost>4.2 Host configuration (<code>/etc/vpnd/hosts/$HOST</code>)<a hidden class=anchor aria-hidden=true href=#42-host-configuration-etcvpndhostshost>#</a></h3><p>Each file in this subdirectory specifies a VPN to be launched and defines the name that the configuration files would have appended.</p><p>We&rsquo;ll create a folder for each remote host with a descriptive name that would be use by the scripts.</p><div class="admonition warning"><p class=admonition-title>CAUTION</p><p class=admonition>For creating the files you&rsquo;ll have to use &ldquo;echo &ldquo;client&rdquo; > mode&rdquo; or similar (for port, <code>resolv</code>, mode, etc), there have been some problems with files not created this way (and my perl knowledge doesn&rsquo;t allow me to do anything better).</p></div><p>Into this subdirectory there would be the following config files:</p><h4 id=421-static-files>4.2.1 Static files<a hidden class=anchor aria-hidden=true href=#421-static-files>#</a></h4><ul><li><code>vpnd.key</code> : Cipher key that would be used for the connection with the remote host. It gets created by vpnd or copied from remote host.</li><li><code>mode</code> : Mode that we use to get connected to remote host (server or client)</li><li><code>port</code> : Port at which the connection gets established</li><li><code>resolv</code> : Dynamic DNS resolver name for the target host (used for resolving it&rsquo;s IP)</li><li><code>master</code> : Master configuration file for HOST (the config that it&rsquo;s static)</li></ul><h4 id=422-dynamic-files>4.2.2 Dynamic files<a hidden class=anchor aria-hidden=true href=#422-dynamic-files>#</a></h4><ul><li><code>vpnd.conf</code> : Configuration file for HOST, it gets created automatically when running /etc/vpnd/update.pl script</li><li><code>restart</code> : This file gets created by the &ldquo;compare.pl&rdquo; script to indicate that VPNS should restart this host VPN. This file is created if the IP has changed since last launch</li></ul><h4 id=423-scripts>4.2.3 Scripts<a hidden class=anchor aria-hidden=true href=#423-scripts>#</a></h4><ul><li><code>/etc/vpnd/update.pl</code> : Script to merge configuration files for host, resolve IP and then output a vpnd.conf file for that host</li><li><code>/etc/vpnd/compare.pl</code> : Script to compare IP&rsquo;s between recorded one and current for preparing vpnd restart</li><li><code>/etc/init.d/vpns</code> : Script to start, stop, restart or restart-if-needed the VPNS based on hosts definitions</li></ul><h2 id=recommendations>Recommendations<a hidden class=anchor aria-hidden=true href=#recommendations>#</a></h2><p>As probably IP&rsquo;s will change, you&rsquo;ll need to put a <code>crontab</code> sentence for
checking of updated IP&rsquo;s, to do so, put <code>/etc/init.d/vpns</code> restart-if-needed
in your <code>crontab</code> for allowing the tunnels to be recreated at every change.</p><p>Sample <code>crontab</code> line would be:</p><pre tabindex=0><code class=language-cron data-lang=cron>#!bash
0-59/5 * * * * root /etc/init.d/vpns restart-if-needed
</code></pre><p>This way, every five minutes, the script would be run and will restart VPNS that needed to do so.</p><p>At every run, compare.pl will check new IP addresses, and will mark the service to be restarted, it will create master.ip and &ldquo;host/ip&rdquo; file.</p><p>update.pl will dump a vpnd.conf file containing the merge of &ldquo;host/master&rdquo; and the Dynamic DNS for both local host and remote host configured as &ldquo;host/mode&rdquo; says using the &ldquo;host/port&rdquo; port to establish connection and vpnd.key file in each &ldquo;host/&rdquo;
folder.</p><h2 id=changelog>Changelog<a hidden class=anchor aria-hidden=true href=#changelog>#</a></h2><h3 id=version-043>Version 0.43<a hidden class=anchor aria-hidden=true href=#version-043>#</a></h3><p>Added a check (<code>chop $mode</code>) with the mode definition to fix problems in systems that always configured mode as server (default check, because the if sentence at update.pl searched for &ldquo;client&rdquo; and sometimes it was not well compared)</p><p>Thanks to Hawkmoon</p><h3 id=version-042>Version 0.42<a hidden class=anchor aria-hidden=true href=#version-042>#</a></h3><p>Change in the <code>compare.pl</code> script for the case in which the changed ip was the
local one to restart all VPN daemons.</p><p>Before this version, when local IP changed, only the first-checked VPN will
be restarted as there was no file specifying a total restart.</p><h3 id=version-041>Version 0.41<a hidden class=anchor aria-hidden=true href=#version-041>#</a></h3><p>Little changes in configuration files an scripts to make it easier to set
up, please, check your configuration files to use new behaviour</p><ul><li><code>pidfile</code> now gets automatically defined to match VPNS kill procedure, so it shouldn&rsquo;t be in &ldquo;master&rdquo; file.</li></ul><h3 id=version-04>Version 0.4<a hidden class=anchor aria-hidden=true href=#version-04>#</a></h3><p>Now, added localhost IP resolution to check if just origin or end (or both)
changed their IP, so if either one of them changes, the VPN get&rsquo;s marked as
restart-needed.</p><h3 id=version-03>Version 0.3<a hidden class=anchor aria-hidden=true href=#version-03>#</a></h3><p>Each host is now restarted only if needed. (added VPNS restart-if-needed
command) for not having to stop/relaunch every VPN at every time.</p><p>Added compare.pl script to compare IP&rsquo;s and to let inform the VPNS that needs to restart it.</p><h3 id=version-02>Version 0.2<a hidden class=anchor aria-hidden=true href=#version-02>#</a></h3><p>Configuration files moved from <code>/etc/vpnd/</code> to <code>/etc/vpnd/hosts/*</code>, so each
host has it&rsquo;s configuration files into one subdirectory, allowing to tidy
the things a bit. Old files were named <code>vpnd-HOST.conf</code>, <code>vpnd-HOST.key</code>,
<code>HOST.resolv</code>,etc. They got renamed and moved to the actual location.</p><h3 id=version-01>Version 0.1<a hidden class=anchor aria-hidden=true href=#version-01>#</a></h3><p>First version: at every restart of VPNS new configuration files were created
for each host, and then the vpnd were restarted with the configuration files</p><h2 id=sample-configuration-files>Sample configuration files<a hidden class=anchor aria-hidden=true href=#sample-configuration-files>#</a></h2><p>Here you will see a sample files used at my host, the other files not dumped
here are created automatically by the scripts or you must create them
manually (for example the vpnd.key).</p><h3 id=71-local>7.1 Local<a hidden class=anchor aria-hidden=true href=#71-local>#</a></h3><h3 id=711-masterresolv>7.1.1 <code>master.resolv</code><a hidden class=anchor aria-hidden=true href=#711-masterresolv>#</a></h3><p><code>merak.no-ip.org</code></p><h3 id=72-remote-host>7.2 Remote Host<a hidden class=anchor aria-hidden=true href=#72-remote-host>#</a></h3><h4 id=721-mode>7.2.1 mode<a hidden class=anchor aria-hidden=true href=#721-mode>#</a></h4><p><code>server</code></p><h4 id=722-port>7.2.2 port<a hidden class=anchor aria-hidden=true href=#722-port>#</a></h4><p><code>2010</code></p><h4 id=723-resolv>7.2.3 <code>resolv</code><a hidden class=anchor aria-hidden=true href=#723-resolv>#</a></h4><p><code>oceano.dyndns.org</code></p><h4 id=724-master>7.2.4 master<a hidden class=anchor aria-hidden=true href=#724-master>#</a></h4><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>local</td><td>172.16.97.78</td></tr><tr><td>remote</td><td>172.16.97.77</td></tr><tr><td><code>autoroute keepalive</code></td><td>10</td></tr><tr><td><code>noanswer</code></td><td>3</td></tr><tr><td><code>keyfile</code></td><td>vpnd.key`</td></tr><tr><td><code>randomdev</code></td><td><code>/dev/urandom mtu 1600</code></td></tr></tbody></table><h3 id=73-sample-run-for-oceano-resulting-vpndconf>7.3 Sample run for <code>Oceano</code> (resulting <code>vpnd.conf</code>)<a hidden class=anchor aria-hidden=true href=#73-sample-run-for-oceano-resulting-vpndconf>#</a></h3><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td><code>local</code></td><td>172.16.97.78</td></tr><tr><td><code>remote</code></td><td>172.16.97.77</td></tr><tr><td><code>autoroute keepalive</code></td><td>10</td></tr><tr><td><code>noanswer</code></td><td>3</td></tr><tr><td><code>keyfile</code></td><td><code>vpnd.key</code></td></tr><tr><td><code>pidfile</code></td><td><code>/var/run/vpnd:hawkmoon.pid</code></td></tr><tr><td><code>randomdev</code></td><td><code>/dev/urandom</code></td></tr><tr><td><code>mtu</code></td><td>1600</td></tr><tr><td><code>client</code></td><td>81.202.20.245 2010</td></tr><tr><td><code>server</code></td><td>81.202.117.88 2010</td></tr><tr><td><code>mode</code></td><td>server</td></tr></tbody></table><h2 id=faq>FAQ<a hidden class=anchor aria-hidden=true href=#faq>#</a></h2><h3 id=81-problems>8.1 Problems<a hidden class=anchor aria-hidden=true href=#81-problems>#</a></h3><h4 id=811-gentoo-thanks-to-hawkmoon>8.1.1 Gentoo (Thanks to Hawkmoon)<a hidden class=anchor aria-hidden=true href=#811-gentoo-thanks-to-hawkmoon>#</a></h4><p>It seems that the script as provided within this package doesn&rsquo;t work fine
with Gentoo, please, specify the full path to the vpnd.key file in each
&ldquo;master&rdquo; configuration file, and be sure to edit &ldquo;VPNS&rdquo; to point to your
&ldquo;vpnd&rdquo; executable.</p><h2 id=credits>Credits<a hidden class=anchor aria-hidden=true href=#credits>#</a></h2><h3 id=copyright>Copyright<a hidden class=anchor aria-hidden=true href=#copyright>#</a></h3><p>(c) 2003 Pablo Iranzo G√≥mez (<a href=mailto:Pablo.Iranzo@uv.es>Pablo.Iranzo@uv.es</a>) <a href=https://Alufis35.uv.es/~iranzo/>https://Alufis35.uv.es/~iranzo/</a></p><p>You&rsquo;re given permission to copy, distribute and/or modify this document
under the terms of the GNU General Public License Version 2 or higher
published by the Free Software Foundation</p><p>Please, if you use this program, email me to know where it gets to and if it&rsquo;s used.</p><h3 id=about>About<a hidden class=anchor aria-hidden=true href=#about>#</a></h3><p>This document has been created using the LyX Editor and compiled with under
Debian GNU/Linux, and then converted to the format you&rsquo;re viewing.</p><p>File translated from TeX by <a href=http://hutchinson.belmont.ma.us/tth/><code>T~T~H</code></a>, version 3.67. On 9 Mar 2007, 21:50.<p>Enjoy! (and if you do, you can
<a href=https://ko-fi.com/I2I4KDA0V target=_blank><img src=https://storage.ko-fi.com/cdn/brandasset/kofi_s_logo_nolabel.png height=36 style=border:0;height:36px;vertical-align:middle;display:inline-block border=0>
</img>
Buy Me a Coffee
</a>)</p></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://iranzo.io/tags/linux/>Linux</a></li><li><a href=https://iranzo.io/tags/network/>Network</a></li><li><a href=https://iranzo.io/tags/vpn/>VPN</a></li><li><a href=https://iranzo.io/tags/foss/>FOSS</a></li></ul><nav class=paginav><a class=prev href=https://iranzo.io/blog/2004/04/06/jumpers-olivetti-echos-p75/><span class=title>¬´ Prev</span><br><span>Jumpers Olivetti Echos P75</span>
</a><a class=next href=https://iranzo.io/blog/2002/02/25/camelle-costa-da-morte-2002/><span class=title>Next ¬ª</span><br><span>Camelle - Costa da Morte 2002</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on x" href="https://x.com/intent/tweet/?text=VPNS%20-%20Multiple%20VPN%27s%20Launcher&amp;url=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f&amp;hashtags=Linux%2cnetwork%2cVPN%2cFOSS"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f&amp;title=VPNS%20-%20Multiple%20VPN%27s%20Launcher&amp;summary=VPNS%20-%20Multiple%20VPN%27s%20Launcher&amp;source=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on reddit" href="https://reddit.com/submit?url=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f&title=VPNS%20-%20Multiple%20VPN%27s%20Launcher"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on whatsapp" href="https://api.whatsapp.com/send?text=VPNS%20-%20Multiple%20VPN%27s%20Launcher%20-%20https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on telegram" href="https://telegram.me/share/url?text=VPNS%20-%20Multiple%20VPN%27s%20Launcher&amp;url=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share VPNS - Multiple VPN's Launcher on ycombinator" href="https://news.ycombinator.com/submitlink?t=VPNS%20-%20Multiple%20VPN%27s%20Launcher&u=https%3a%2f%2firanzo.io%2fblog%2f2003%2f03%2f05%2fvpns-multiple-vpns-launcher%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://iranzo.io/>Pablo Iranzo G√≥mez blog</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg></a><center><small>This blog is a participant in the Amazon Associate Program, an affiliate advertising program designed to provide a means for sites to earn advertising fees by advertising and linking to Amazon.</small></center><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>