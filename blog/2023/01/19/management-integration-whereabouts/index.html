<!doctype html><html lang=en><head><meta charset=utf-8><title>Management Integration whereabouts</title><meta name=description content="A bunch of unrelated data"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=../../../../../reveal-js/dist/reset.css><link rel=stylesheet href=../../../../../reveal-js/dist/reveal.css><link rel=stylesheet href=../../../../../reveal-js/dist/theme/solarized.css id=theme><link rel=stylesheet href=../../../../../highlight-js/default.min.css></head><body><div class=reveal><div class=slides><section><h2 id=management-integration-whereabouts>Management Integration whereabouts</h2></section><section><h3 id=what-weve-done-so-far>What we&rsquo;ve done so far?</h3><ul><li>ZTP Factory Workflow</li><li>Kernel Module Management</li><li>NVIDIA Bluefield support</li><li>OpenShift Virtualization with vGPU</li><li>Other supporting tasks</li></ul></section><section><section data-shortcode-section><h3 id=ztp-factory-workflow>ZTP Factory Workflow</h3><ul><li><p>ZTP Stands for Zero Touch Provisioning: Automated OpenShift deployment that setup registry mirror, nodes,etc out of a configuration yaml.</p></li><li><p>The architecture was described as Openshift Container Agnostic TOPology Integrated Chassis. The architecture was based on a 3+1 chassis which had everything needed for the automation with nics for internal/external networks.</p></li></ul></section><section><h3 id=ztpfw-cont>ZTPFW (cont)</h3><ul><li>Simplifies hardware manufacturer setup in an automated and repetitive way OpenShift clusters that are ready to be shipped to customer premises to final setup and utilization.</li><li>Uses OpenShift, ACM, Quay, etc.</li><li>Used as foundation layer for other efforts<ul><li>Automatic reconnection to ACM Hub</li></ul></li></ul></section><section><h3 id=ztp-use-cases>ZTP Use cases</h3><ul><li>Prepare clusters ready to be deployed close to customer needs (concerts, supermarkets, etc.)</li><li>Disconnected environments that might reconnect after time for updates, (ACM Spoke import), f.e. Cargo ship, etc.</li></ul></section></section><section><h3 id=kernel-module-management>Kernel Module Management</h3><p>It&rsquo;s an operator that builds custom kernel modules to provide support for specific hardware in the systems.</p><p>About to get 1.0 released with some features coming for 1.1:</p><ul><li>Disconnected operation</li><li>Hub-Spoke approach (Hub can build the modules for resource-stretched spokes)</li></ul></section><section><section data-shortcode-section><h3 id=nvidia-bluefield2-dpu>Nvidia Bluefield2 DPU</h3><p>What is a DPU? :</p><ul><li>DPU ( Data processing unit) it&rsquo;s a PCIE card that runs as a system-on-chip inside the host. The System is based on ARM and hosts its own OS and even a BMC.</li></ul></section><section><h3 id=how-can-it-be-used>How can it be used?</h3><p>The DPU is can be used in several ways:</p><ul><li>Offload traffic from the host to the DPU - SSL encrypt/decrypt, IPSEC, etc..</li><li>NVME over LAN</li><li>Security enforcement</li><li>Software defined infrastructure</li></ul></section><section><h3 id=how-is-dpu-used-in-openshift>How is DPU used in Openshift?</h3><p>The Current design is using Shared-OVN with 2 clusters:</p><ul><li>Infrastructure cluster</li><li>Tenant cluster</li></ul><p>The cluster will communicate between them and setup a shared OVN network for offloading PODâ€™s traffic</p><p>Links:</p><ul><li><a href=https://www.nvidia.com/en-us/networking/products/data-processing-unit/>Nvidia DPU</a></li></ul></section><section><h3 id=dma-buf-for-gpu-rdma>DMA-BUF for GPU RDMA</h3><p>DMA what?</p><p>RDMA is a kernel feature to share buffers between hosts. The general idea is setting up a peer-to-peer DMA between NIC and transferring / sharing buffers for GPU workloads.</p><p>Starting in RHCOS 9 :</p><ul><li><a href=https://www.openfabrics.org/wp-content/uploads/2020-workshop-presentations/303.-OFI-GPU-DMA-BUF-OFA2020v2.pdf>OpenFabrics GPU DMA</a></li></ul></section></section><section><section data-shortcode-section><h3 id=openshift-virtualization-with-vgpu>Openshift Virtualization with vGPU</h3><p>In the old way, each VM we create has a PCIE pass-through to GPU. which means that only one application / service can run on one GPU.</p><p>The Nvidia GPU operator is now extended and supports vGPU - taking one physical GPU and sharing to multiple instances.</p></section><section><h3 id=mig-with-gpu-operator>MIG with GPU operator</h3><p>The next evolution of GPU is using MIG ( multi instance GPU ) which partition a GPU based on Ampere architecture ( A100 + ) to different hardware slices which is more secure /isolated and better performance.</p><p>Links:</p><ul><li><a href=https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/openshift/openshift-virtualization.html>Nvidia OCP Virt</a></li><li><a href=https://docs.nvidia.com/datacenter/tesla/mig-user-guide/index.html>Nvidia MIG</a></li></ul></section></section><section><h3 id=other-tasks>Other tasks</h3><ul><li>Scale testing of ACM Deployment</li><li>Scale testing of KMM deployment</li></ul></section><section><h2 id=questions>Questions?</h2></section></div></div><script type=text/javascript src=../../../../../reveal-hugo/object-assign.js></script><script src=../../../../../reveal-js/dist/reveal.js></script><script type=text/javascript src=../../../../../reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=../../../../../reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=../../../../../reveal-js/plugin/zoom/zoom.js></script><script type=text/javascript src=../../../../../reveal-js/plugin/notes/notes.js></script><script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams={},revealHugoPageParams={},revealHugoPlugins={plugins:[RevealMarkdown,RevealHighlight,RevealZoom,RevealNotes]},options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams),camelize(revealHugoPlugins));Reveal.initialize(options)</script></body></html>