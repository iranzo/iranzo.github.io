<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Python | Pablo Iranzo Gómez blog</title>
<meta name=keywords content><meta name=description content="A bunch of unrelated data"><meta name=author content="Pablo Iranzo Gómez"><link rel=canonical href=https://iranzo.io/tags/python/><meta name=google-site-verification content="Bk4Z5ucHLyPXqlZlj5LzANpYBBSvxqBW4E8i-Kwf-bQ"><meta name=yandex-verification content="993ede96cdfbee95"><link crossorigin=anonymous href=../../assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://iranzo.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://iranzo.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://iranzo.io/favicon-32x32.png><link rel=apple-touch-icon href=https://iranzo.io/apple-touch-icon.png><link rel=mask-icon href=https://iranzo.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://iranzo.io/tags/python/index.xml><link rel=alternate hreflang=en href=https://iranzo.io/tags/python/><link rel=alternate hreflang=es href=https://iranzo.io/es/tags/python/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZL9P943TP1"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZL9P943TP1")}</script><meta property="og:url" content="https://iranzo.io/tags/python/"><meta property="og:site_name" content="Pablo Iranzo Gómez blog"><meta property="og:title" content="Python"><meta property="og:description" content="A bunch of unrelated data"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://iranzo.io/mugshot.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://iranzo.io/mugshot.png"><meta name=twitter:title content="Python"><meta name=twitter:description content="A bunch of unrelated data"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://iranzo.io/ accesskey=h title="Home (Alt + H)"><img src=https://iranzo.io/apple-icon-152x152.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://iranzo.io/es/ title=Spanish aria-label=Spanish>Es</a></li></ul></div></div><ul id=menu><li><a href=https://iranzo.io/ title=🏠Home><span>🏠Home</span></a></li><li><a href=https://iranzo.io/about/ title=🗒️About><span>🗒️About</span></a></li><li><a href=https://iranzo.io/redken_bot/ title=🐘redken_bot><span>🐘redken_bot</span></a></li><li><a href=https://iranzo.io/projects/ title=📐Projects><span>📐Projects</span></a></li><li><a href=https://iranzo.io/archives/ title="🗄️ Archives"><span>🗄️ Archives</span></a></li><li><a href=https://iranzo.io/categories/ title=🗺️Categories><span>🗺️Categories</span></a></li><li><a href=https://iranzo.io/tags/ title=🏷️Tags><span>🏷️Tags</span></a></li><li><a href=https://iranzo.io/search title="🔎Search (Alt + /)" accesskey=/><span>🔎Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://iranzo.io/>Home</a>&nbsp;»&nbsp;<a href=https://iranzo.io/tags/>Tags</a></div><h1>Python</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[python] Generate ranges from items</h2></header><div class=entry-content><p>Some years ago, I added a script for updating headers for (C) in the python files I was developing for Risu.
In this way, the header got the list of authors and years working on the files updated automatically.
With the pass of the years, the list started to became a bit too long, so I worked on creating code for getting ranges instead.
This is the code I used:
def getranges(data): """ From list of strings representing numbers, get ranges and return list of strings :param data: list of strings representing numbers :return: list of strings with number ranges when > 1 """ # Convert to integers data = [int(i) for i in data] result = [] if not data: return result # Prepare iteration loop idata = iter(data) first = prev = next(idata) first = first prev = prev # Process next item for following in idata: if following - prev == 1: # Years are continuum, just update previous prev = following else: # Years are not continuum, end range and start again if first == prev: result.append(first) else: if first + 1 == prev: # Only one item in difference, append items individually result.append(first) result.append(prev) else: result.append("%s-%s" % (first, prev)) first = prev = following # Catchall for regular execution or last remaining range if first == prev: result.append(first) else: if first + 1 == prev: # Only one item in difference, append items individually result.append(first) result.append(prev) else: result.append("%s-%s" % (first, prev)) # Convert back to text result = [str(i) for i in result] return result With it, previous headers like:
...</p></div><footer class=entry-footer><span title='2022-11-25 07:00:46.35 +0000 UTC'>November 25, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Pablo Iranzo Gómez</footer><a class=entry-link aria-label="post link to [python] Generate ranges from items" href=https://iranzo.io/blog/2022/11/25/python-generate-ranges-from-items/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset='https://iranzo.io/blog/2022/01/20/in-action...@redken_bot-with-examples/karma_hu_e7ab136f4c638855.png 360w,https://iranzo.io/blog/2022/01/20/in-action...@redken_bot-with-examples/karma_hu_8e2e2ebd8dfe9723.png 480w,https://iranzo.io/blog/2022/01/20/in-action...@redken_bot-with-examples/karma.png 655w' src=https://iranzo.io/blog/2022/01/20/in-action...@redken_bot-with-examples/karma.png sizes="(min-width: 768px) 720px, 100vw" width=655 height=335 alt></figure><header class=entry-header><h2 class=entry-hint-parent>In action...@redken_bot with examples</h2></header><div class=entry-content><p>Redken in action with some examples Let’s learn about using Redken in Telegram or Discord with some examples…. but first, let’s add the bot to a new group based on the platform we’re using:
Redken_bot in Telegram Redken in discord Let’s get hands on! First of all, some of the commands shown will require admin privileges in the chat (from the user point of view) and from Redken.
Redken uses admin privileges to:
...</p></div><footer class=entry-footer><span title='2022-01-20 17:20:14 +0100 +0100'>January 20, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Pablo Iranzo Gómez</footer><a class=entry-link aria-label="post link to In action...@redken_bot with examples" href=https://iranzo.io/blog/2022/01/20/in-action...@redken_bot-with-examples/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>LDAP query from Python</h2></header><div class=entry-content><p>Recently, some colleagues commented about validating if users in a Telegram group were or not employees anymore, so that the process could be automated without having to chase down the users that left the company.
One of the fields that can be configured by each user, is the link to other platforms (Github, LinkedIn, Twitter, Telegram, etc), so querying an LDAP server could suffice to get the list of users.
...</p></div><footer class=entry-footer><span title='2021-10-19 22:34:34 +0200 +0200'>October 19, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Pablo Iranzo Gómez</footer><a class=entry-link aria-label="post link to LDAP query from Python" href=https://iranzo.io/blog/2021/10/19/ldap-query-from-python/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Redken machine learning for spam detection</h2></header><div class=entry-content><p>For some of the telegram groups I’m in, I’ve been detecting users that after some period of time, just publish spam messages of any topic.
There are many bots for controlling when a user joins, by showing a CAPTCHA that user must resolve (either clicking a button, answering a mathematical operation, inputting a CAPTCHA image text, etc).
Some time ago, a colleague was using Machine Learning and I wanted to have a look at it and it would make a good feature to implement.
...</p></div><footer class=entry-footer><span title='2021-06-24 22:00:00 +0200 +0200'>June 24, 2021</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Pablo Iranzo Gómez</footer><a class=entry-link aria-label="post link to Redken machine learning for spam detection" href=https://iranzo.io/blog/2021/06/24/redken-machine-learning-for-spam-detection/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Language detection in @redken_bot</h2></header><div class=entry-content><p>Introduction Before the move to Python3, redken had per-group language configuration by using i18n, with the upgrade/rewrite of Python3 code there were some issues and I had to remove the support, defaulting everything to English (most of the outputs where already in English so not a great loss).
On another side, having to manually configure each channel could be problematic as most users just add the bot to their groups but don’t care about other settings that might be useful like welcome message, inactivity for kicking out inactive users, etc.
...</p></div><footer class=entry-footer><span title='2020-03-25 20:00:24 +0100 +0100'>March 25, 2020</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Pablo Iranzo Gómez</footer><a class=entry-link aria-label="post link to Language detection in @redken_bot" href=https://iranzo.io/blog/2020/03/25/language-detection-in-@redken_bot/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://iranzo.io/tags/python/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://iranzo.io/>Pablo Iranzo Gómez blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><center><small>This blog is a participant in the Amazon Associate Program, an affiliate advertising program designed to provide a means for sites to earn advertising fees by advertising and linking to Amazon.</small></center><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>